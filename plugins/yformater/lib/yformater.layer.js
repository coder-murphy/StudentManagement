(function(exports){function Layer(){}Layer.msg={"normal":function(text,icon,time){var waitTime=0;Layer.checkInit();setTimeout(function(){if(Layer.view&&!Layer.view.isDestory()){Layer.view.hide();waitTime=300}Layer.view=new View(text,icon,time);Layer.view.show(waitTime)},0)},"good":function(text,time){this.normal(text,"yformater-layer-icon-good",time)},"bad":function(text,time){this.normal(text,"yformater-layer-icon-bad",time)}};Layer.checkInit=function(){if(document.querySelector("div.yformater-layer")){return false}Layer.init();return true};Layer.init=function(){Layer.$body=document.querySelector("body");Layer.$body.appendChild(Layer.buildElement());Layer.$layer=document.querySelector("div.yformater-layer");Layer.$content=Layer.$layer.querySelector("div.yformater-layer-content");Layer.$icon=Layer.$content.querySelector("i.yformater-layer-icon")};Layer.render=function(text,icon){var lastChild=Layer.$content.lastChild;if(lastChild.nodeName!="I"){Layer.$content.removeChild(lastChild)}Layer.$content.appendChild(document.createTextNode(text));Layer.$icon.className=["yformater-layer-icon",icon].join(" ")};Layer.show=function(){Layer.$layer.className=["yformater-layer","on"].join(" ")};Layer.hide=function(){Layer.$layer.className=["yformater-layer"].join(" ")};Layer.buildElement=function(){var html=[],wrap=document.createElement("div");html.push("<div class='yformater-layer'>");html.push("<div class='yformater-layer-content'>");html.push("<i class='yformater-layer-icon'></i>");html.push("</div>");html.push("</div>");wrap.innerHTML=html.join("");return wrap.firstChild};function View(text,icon,time){this.text=text;this.icon=icon;this.time=time;this.destory=false}View.prototype.show=function(waitTime){var _s=this;setTimeout(function(){Layer.render(_s.text,_s.icon);Layer.show()},waitTime);this.timer=setTimeout(function(){Layer.hide();_s.destory=true},this.time)};View.prototype.hide=function(){if(this.timer){clearTimeout(this.timer)}setTimeout(function(){Layer.hide()},0);this.destory=true};View.prototype.isDestory=function(){return this.destory};Layer.init();function LayerProxy(){}LayerProxy.msg=Layer.msg;exports.Layer=LayerProxy})(this);